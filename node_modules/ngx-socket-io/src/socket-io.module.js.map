{"version":3,"file":"socket-io.module.js","sourceRoot":"","sources":["../../src/socket-io.module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAuB,cAAc,EAAE,MAAM,eAAe,CAAC;AAE9E,OAAO,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAC;;AAGpD,MAAM,wBAAwB,MAAsB;IAChD,MAAM,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC;CACpC;AAED,MAAM,CAAC,IAAM,mBAAmB,GAAG,IAAI,cAAc,CAAiB,sBAAsB,CAAC,CAAC;;;;IAInF,sBAAO,GAAd,UAAe,MAAsB;QACjC,MAAM,CAAC;YACH,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,MAAM,EAAE;gBAClD;oBACI,OAAO,EAAE,aAAa;oBACtB,UAAU,EAAE,aAAa;oBACzB,IAAI,EAAG,CAAC,mBAAmB,CAAC;iBAC/B;aACJ;SACJ,CAAC;KACL;;gBAdJ,QAAQ,SAAC,EAAE;;yBAXZ;;SAYa,cAAc","sourcesContent":["import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { SocketIoConfig } from './config/socket-io.config';\r\nimport { WrappedSocket } from './socket-io.service';\r\n\r\n/** Socket factory */\r\nexport function SocketFactory(config: SocketIoConfig) {\r\n    return new WrappedSocket(config);\r\n}\r\n\r\nexport const SOCKET_CONFIG_TOKEN = new InjectionToken<SocketIoConfig>('__SOCKET_IO_CONFIG__');\r\n\r\n@NgModule({})\r\nexport class SocketIoModule {\r\n    static forRoot(config: SocketIoConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: SocketIoModule,\r\n            providers: [\r\n                { provide: SOCKET_CONFIG_TOKEN, useValue: config },\r\n                { \r\n                    provide: WrappedSocket,\r\n                    useFactory: SocketFactory,\r\n                    deps : [SOCKET_CONFIG_TOKEN]\r\n                }\r\n            ]\r\n        };\r\n    }\r\n }\r\n"]}